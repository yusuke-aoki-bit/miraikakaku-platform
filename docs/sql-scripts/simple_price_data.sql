-- シンプル版：価格・予測データ投入
USE miraikakaku_prod;

-- サンプル価格データ（10銘柄 × 10日分）
INSERT INTO stock_prices (symbol, date, open_price, high_price, low_price, close_price, adjusted_close, volume) VALUES
-- AAPL
('AAPL', '2025-08-21', 180.50, 182.30, 179.80, 181.75, 181.75, 45234567),
('AAPL', '2025-08-20', 178.90, 181.20, 178.50, 180.50, 180.50, 52341789),
('AAPL', '2025-08-19', 179.30, 180.80, 177.90, 178.90, 178.90, 48567234),
('AAPL', '2025-08-18', 177.50, 179.80, 176.20, 179.30, 179.30, 42789345),
('AAPL', '2025-08-17', 176.80, 178.90, 175.60, 177.50, 177.50, 39456782),

-- MSFT
('MSFT', '2025-08-21', 380.25, 385.60, 378.90, 383.45, 383.45, 23456789),
('MSFT', '2025-08-20', 378.50, 382.30, 377.80, 380.25, 380.25, 28789456),
('MSFT', '2025-08-19', 379.80, 381.20, 376.50, 378.50, 378.50, 25678912),
('MSFT', '2025-08-18', 376.90, 380.40, 375.20, 379.80, 379.80, 22345678),
('MSFT', '2025-08-17', 375.60, 378.80, 374.10, 376.90, 376.90, 26789453),

-- 7203 (トヨタ)
('7203', '2025-08-21', 2850, 2890, 2830, 2875, 2875, 3456789),
('7203', '2025-08-20', 2820, 2870, 2810, 2850, 2850, 4123567),
('7203', '2025-08-19', 2840, 2860, 2800, 2820, 2820, 3789456),
('7203', '2025-08-18', 2810, 2850, 2790, 2840, 2840, 3567894),
('7203', '2025-08-17', 2800, 2830, 2780, 2810, 2810, 3234567),

-- SPY (ETF)
('SPY', '2025-08-21', 450.80, 453.20, 449.50, 452.30, 452.30, 89456723),
('SPY', '2025-08-20', 448.90, 451.60, 447.80, 450.80, 450.80, 92367845),
('SPY', '2025-08-19', 449.50, 450.90, 446.70, 448.90, 448.90, 87234569),
('SPY', '2025-08-18', 447.20, 450.80, 446.30, 449.50, 449.50, 91567834),
('SPY', '2025-08-17', 446.60, 448.90, 445.20, 447.20, 447.20, 88345672);

-- サンプル予測データ（7日分）
INSERT INTO stock_predictions (symbol, prediction_date, prediction_days, current_price, predicted_price, confidence_score, prediction_range_low, prediction_range_high, model_version) VALUES
-- AAPL 予測
('AAPL', '2025-08-22', 1, 181.75, 183.25, 0.85, 180.50, 186.00, 'LSTM_v2.0'),
('AAPL', '2025-08-23', 2, 181.75, 184.80, 0.82, 179.20, 190.40, 'LSTM_v2.0'),
('AAPL', '2025-08-24', 3, 181.75, 185.90, 0.78, 178.10, 193.70, 'LSTM_v2.0'),
('AAPL', '2025-08-25', 4, 181.75, 187.20, 0.75, 176.80, 197.60, 'LSTM_v2.0'),
('AAPL', '2025-08-26', 5, 181.75, 188.40, 0.72, 175.50, 201.30, 'LSTM_v2.0'),
('AAPL', '2025-08-27', 6, 181.75, 189.75, 0.68, 174.20, 205.30, 'LSTM_v2.0'),
('AAPL', '2025-08-28', 7, 181.75, 191.10, 0.65, 172.90, 209.30, 'LSTM_v2.0'),

-- MSFT 予測
('MSFT', '2025-08-22', 1, 383.45, 386.20, 0.87, 380.10, 392.30, 'LSTM_v2.0'),
('MSFT', '2025-08-23', 2, 383.45, 388.90, 0.84, 377.80, 400.00, 'LSTM_v2.0'),
('MSFT', '2025-08-24', 3, 383.45, 391.50, 0.80, 375.20, 407.80, 'LSTM_v2.0'),
('MSFT', '2025-08-25', 4, 383.45, 394.30, 0.77, 372.60, 416.00, 'LSTM_v2.0'),
('MSFT', '2025-08-26', 5, 383.45, 397.10, 0.73, 370.00, 424.20, 'LSTM_v2.0'),
('MSFT', '2025-08-27', 6, 383.45, 399.80, 0.70, 367.40, 432.20, 'LSTM_v2.0'),
('MSFT', '2025-08-28', 7, 383.45, 402.60, 0.66, 364.80, 440.40, 'LSTM_v2.0'),

-- 7203 予測
('7203', '2025-08-22', 1, 2875, 2890, 0.82, 2820, 2960, 'LSTM_v2.0'),
('7203', '2025-08-23', 2, 2875, 2905, 0.79, 2780, 3030, 'LSTM_v2.0'),
('7203', '2025-08-24', 3, 2875, 2920, 0.75, 2740, 3100, 'LSTM_v2.0'),

-- SPY 予測（ETFは保守的）
('SPY', '2025-08-22', 1, 452.30, 453.80, 0.90, 450.20, 457.40, 'LSTM_v2.0'),
('SPY', '2025-08-23', 2, 452.30, 454.90, 0.88, 448.60, 461.20, 'LSTM_v2.0'),
('SPY', '2025-08-24', 3, 452.30, 455.70, 0.85, 447.10, 464.30, 'LSTM_v2.0');

-- バッチログ記録
INSERT INTO batch_logs (batch_type, status, records_processed, details) VALUES
('sample_price_data', 'completed', 20, '{"symbols": 4, "days": 5}'),
('sample_predictions', 'completed', 17, '{"symbols": 4, "horizon_days": 7}');

-- 検証クエリ
SELECT 'Price Data' as type, COUNT(*) as count FROM stock_prices;
SELECT 'Prediction Data' as type, COUNT(*) as count FROM stock_predictions;
SELECT 'Latest Prices' as type, symbol, date, close_price FROM stock_prices ORDER BY date DESC LIMIT 10;