# Miraikakaku Frontend Specification

## 1. Related Requirements

- **Core Functionality**: The application will consist of two main pages: a search page and a details page.
- **Graph Visualization**: The details page will feature a chart that visualizes:
  - Historical stock prices (actual data).
  - Historical predictions made by the AI.
  - Future predictions generated by the AI.
- **Detailed Information**: In addition to the chart, the details page will display:
  - A description of the selected company.
  - The reasoning and factors behind the AI's prediction.
- **Monetization**: The application will be monetized using:
  - Amazon Associates
  - Google AdSense

---

## 2. Overview

This document outlines the technical specifications for the Miraikakaku frontend. The frontend is a web application built with Next.js that allows users to search for stock symbols, view detailed information, and see AI-powered predictions.

## 3. Tech Stack

- **Framework**: Next.js 14
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Linting**: ESLint

## 4. Pages

### 4.1. Search Page (`/`)

- **URL**: `/`
- **Component**: `app/page.tsx`
- **Functionality**:
  - Displays a search bar for users to enter a stock symbol.
  - On submission, redirects the user to the Details Page for the entered symbol.

### 4.2. Details Page (`/details/[symbol]`)

- **URL**: `/details/AAPL` (example)
- **Component**: `app/details/[symbol]/page.tsx`
- **Functionality**:
  - Fetches and displays detailed information for the specified stock symbol.
  - **Chart**: A visual representation of:
    - Historical stock prices (2 years).
    - Historical predictions.
    - Future predictions (6 months).
  - **Company Information**: Displays the company name, description, sector, etc.
  - **AI Prediction Analysis**: Shows the factors and reasoning behind the AI's prediction.
  - **Monetization**: Includes placeholders for Amazon Associates and Google AdSense ads.

## 5. API Consumption

The frontend consumes the following API endpoints from the Miraikakaku backend:

- `GET /api/finance/stocks/search?q={symbol}`: To search for stock symbols.
- `GET /api/finance/stocks/{symbol}/price?days=730`: To get historical price data.
- `GET /api/finance/stocks/{symbol}/predictions?days=180`: To get future prediction data.
- `GET /api/finance/stocks/{symbol}/predictions/history?days=730`: To get historical prediction data.
- `GET /api/ai-factors/all?symbol={symbol}`: To get the AI's decision factors.

## 6. Monetization

- **Amazon Associates**: Placeholders are included in the Details Page to display Amazon affiliate links or ads.
- **Google AdSense**: Placeholders are included in the Details Page to display Google AdSense ads.