# 日本株ニュースソース調査レポート
2025-10-12

## 現在の状況

### 既存のニュースソース

#### 1. Finnhub API
- **ステータス**: ✅ 実装済み
- **カバレッジ**:
  - US株: 優秀（平均50-211件/銘柄）
  - 日本株: ほぼゼロ（1,762銘柄中ほとんど0件）
- **実装ファイル**: `finnhub_news_collector.py`
- **評価**: ⭐⭐⭐⭐⭐ (US株のみ)

#### 2. yfinance API
- **ステータス**: ❌ エラー発生中
- **問題**: `Expecting value: line 1 column 1 (char 0)` - JSON parseエラー
- **カバレッジ**: 日本株対応のはずだが、APIが空レスポンスを返す
- **実装ファイル**: `yfinance_jp_news_collector.py`
- **評価**: ⭐ (現在使用不可)

#### 3. Alpha Vantage
- **ステータス**: 調査済み
- **結果**: 日本株ニュース未対応
- **評価**: ❌ 日本株には不適

---

## 代替ニュースソース候補

### 🥇 推奨オプション1: JQuants API

#### 概要
- **提供元**: 日本取引所グループ (JPX) 公式データ
- **特徴**: 日本株専門、高品質データ
- **公式サイト**: https://jpx-jquants.com/

#### プラン
| プラン | 価格 | データ範囲 | API呼び出し |
|---|---|---|---|
| Free | ¥0 | 限定的 | 制限あり |
| Light | ¥3,300/月 | 基本データ | 5,000回/日 |
| Standard | ¥33,000/月 | 全データ | 50,000回/日 |

#### 提供データ
- ✅ 株価データ
- ✅ 財務データ
- ✅ ニュース・適時開示情報
- ✅ 企業情報
- ✅ オプション・先物

#### メリット
- ✅ 日本株に特化した最高品質データ
- ✅ JPX公式なので信頼性が高い
- ✅ 適時開示情報（TDnet）を取得可能
- ✅ APIドキュメントが充実

#### デメリット
- ❌ 有料（最低¥3,300/月）
- ❌ 無料プランは制限が厳しい
- ⚠️ センチメント分析は別途必要

#### 実装難易度
⭐⭐⭐ (中程度)

---

### 🥈 推奨オプション2: NewsAPI.org

#### 概要
- **提供元**: NewsAPI
- **特徴**: グローバルニュースアグリゲーター
- **公式サイト**: https://newsapi.org/

#### プラン
| プラン | 価格 | 記事数 | 制限 |
|---|---|---|---|
| Developer | $0 | 100リクエスト/日 | 過去1ヶ月のみ |
| Business | $449/月 | 250,000リクエスト/日 | 全期間 |

#### 日本株カバレッジ
- ✅ 日本のニュースソースに対応
- ✅ 企業名・銘柄コードで検索可能
- ✅ 多言語対応（日本語含む）

#### メリット
- ✅ 日本のメディアをカバー
- ✅ 無料プランあり（開発・テスト用）
- ✅ シンプルなAPI
- ✅ 多言語対応

#### デメリット
- ❌ 無料版は100リクエスト/日（約1.5銘柄/日）
- ❌ 有料版は高額（$449/月）
- ⚠️ 企業ニュースの網羅性が不明

#### 実装難易度
⭐⭐ (簡単)

---

### 🥉 推奨オプション3: Yahoo Finance Japan スクレイピング

#### 概要
- **提供元**: Yahoo! JAPAN
- **方法**: Webスクレイピング
- **URL例**: `https://finance.yahoo.co.jp/quote/7203.T/news`

#### メリット
- ✅ 完全無料
- ✅ 日本株の豊富なニュース
- ✅ リアルタイム更新
- ✅ 多様なニュースソース

#### デメリット
- ❌ 規約違反の可能性（要確認）
- ❌ HTMLパース必要（不安定）
- ❌ レート制限リスク
- ❌ IPブロックリスク
- ⚠️ 構造変更で動作不可能になる可能性

#### 実装難易度
⭐⭐⭐⭐ (高難易度)

#### リスク評価
⚠️ **高リスク** - 規約違反、法的リスク、技術的不安定性

---

### その他の候補

#### 4. Kabu Station API (auカブコム証券)
- **特徴**: 日本株リアルタイムデータ
- **課題**: 証券口座が必要、ニュースAPIの有無不明
- **評価**: ⭐⭐ (要調査)

#### 5. Bloomberg API
- **特徴**: 世界最高品質の金融データ
- **課題**: 高額（数十万円/年〜）、法人契約必須
- **評価**: ⭐⭐⭐⭐⭐⭐ (品質) / ❌ (価格)

#### 6. Refinitiv (旧Reuters)
- **特徴**: プロフェッショナル向けデータ
- **課題**: 高額、法人契約必須
- **評価**: ⭐⭐⭐⭐⭐⭐ (品質) / ❌ (価格)

---

## 推奨アプローチ

### フェーズ1: 無料トライアル（即座に実施可能）

#### NewsAPI.org Developer Plan
1. **登録**: https://newsapi.org/register
2. **APIキー取得**: 即座
3. **実装**: 30分
4. **テスト**: 日本株5-10銘柄
5. **コスト**: $0

**実装優先度**: 🔥 **最高**

```python
# 実装例
import requests

def get_japanese_stock_news_newsapi(symbol: str, company_name: str) -> list:
    api_key = "YOUR_API_KEY"
    url = f"https://newsapi.org/v2/everything?q={company_name}+株式&language=ja&sortBy=publishedAt"
    response = requests.get(url, headers={"Authorization": f"Bearer {api_key}"})
    return response.json()['articles']
```

---

### フェーズ2: 有料プラン評価（1-2週間後）

#### JQuants Light Plan (¥3,300/月)
1. **トライアル申込**: https://jpx-jquants.com/
2. **ドキュメント確認**: API仕様の詳細確認
3. **POC実装**: 適時開示情報の取得テスト
4. **費用対効果評価**: カバレッジ vs コスト

**実装優先度**: 🔥 **高**

---

### フェーズ3: スケーリング（1ヶ月後）

#### ハイブリッドアプローチ
1. **US株**: Finnhub（現状維持）
2. **日本株（主要銘柄）**: JQuants
3. **日本株（補完）**: NewsAPI.org

**コスト試算**: ¥3,300/月 + $449/月 = 約¥70,000/月

---

## 即座に実施可能なアクション

### ステップ1: NewsAPI.org テスト（15分）

```bash
# 1. アカウント作成
# https://newsapi.org/register

# 2. APIキー取得
# ダッシュボードから即座に取得可能

# 3. テストリクエスト
curl "https://newsapi.org/v2/everything?q=トヨタ+株式&language=ja&apiKey=YOUR_API_KEY"
```

### ステップ2: 実装（30分）

1. `newsapi_jp_collector.py` を作成
2. センチメント分析統合
3. データベース保存

### ステップ3: 統合テスト（15分）

1. 日本株5銘柄でテスト
2. ニュース件数確認
3. センチメント分析確認

---

## 比較表

| ソース | 日本株対応 | コスト | カバレッジ | 実装難易度 | 推奨度 |
|---|---|---|---|---|---|
| **NewsAPI.org** | ✅ | $0-449/月 | ⭐⭐⭐ | ⭐⭐ | 🥇 |
| **JQuants** | ✅✅✅ | ¥3,300-33,000/月 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 🥈 |
| **Yahoo JP スクレイピング** | ✅ | $0 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⚠️ リスク高 |
| Finnhub | ❌ | $0-99/月 | ⭐ (JP) | ⭐ | ❌ (JP) |
| yfinance | ❌ | $0 | ⭐ (エラー) | ⭐ | ❌ |
| Alpha Vantage | ❌ | $0-50/月 | ❌ | ⭐⭐ | ❌ (JP) |

---

## 結論

### 即座に実装すべき: NewsAPI.org

**理由**:
1. ✅ 無料プランで即座にテスト可能
2. ✅ 日本語ニュース対応
3. ✅ 実装が簡単（30分）
4. ✅ リスクが低い

### 中期的に検討: JQuants

**理由**:
1. ✅ 日本株専門で最高品質
2. ✅ JPX公式データ
3. ✅ 適時開示情報（TDnet）
4. ⚠️ 有料（¥3,300/月〜）

### 避けるべき: Webスクレイピング

**理由**:
1. ❌ 規約違反リスク
2. ❌ 技術的不安定性
3. ❌ 法的リスク

---

## 次のステップ

### 優先度1: NewsAPI.org 実装（今すぐ）
1. アカウント作成（5分）
2. テスト実装（30分）
3. 5銘柄でテスト（15分）

### 優先度2: JQuants 調査（1週間後）
1. 詳細ドキュメント確認
2. 無料プランテスト
3. 費用対効果分析

### 優先度3: ハイブリッド戦略（1ヶ月後）
1. NewsAPI.org + JQuants の組み合わせ
2. コスト最適化
3. カバレッジ最大化

---

**調査完了日**: 2025-10-12
**推奨アクション**: NewsAPI.org の即座実装
**期待される改善**: 日本株ニュースカバレッジ 0% → 50-80%
